(this["webpackJsonptask-tracker"]=this["webpackJsonptask-tracker"]||[]).push([[0],{261:function(e,n,t){e.exports=t(544)},266:function(e,n,t){},271:function(e,n){},273:function(e,n){},282:function(e,n){},284:function(e,n){},310:function(e,n){},312:function(e,n){},313:function(e,n){},319:function(e,n){},321:function(e,n){},339:function(e,n){},341:function(e,n){},353:function(e,n){},356:function(e,n){},372:function(e,n){},374:function(e,n){},544:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),u=t(52),c=t.n(u),i=(t(266),t(7)),o=t(248),s=t(3),l=t.n(s),f=t(9),d=t(8),m=t(12),p=t(83),v=a.a.createContext(),b=function(){var e=a.a.useContext(v);if(!e)throw new Error("You must call useRealmApp() inside of a <RealmAppProvider />");return e},g=function(e){var n=e.appId,t=e.children,r=a.a.useState(new p.a(n)),u=Object(m.a)(r,2),c=u[0],i=u[1];a.a.useEffect((function(){i(new p.a(n))}),[n]);var o=a.a.useState(c.currentUser),s=Object(m.a)(o,2),b=s[0],g=s[1];function k(){return(k=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.logIn(n);case 2:g(c.currentUser);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=c.currentUser)||void 0===n?void 0:n.logOut();case 2:g(c.currentUser);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=Object(f.a)(Object(f.a)({},c),{},{currentUser:b,logIn:function(e){return k.apply(this,arguments)},logOut:function(){return h.apply(this,arguments)}});return a.a.createElement(v.Provider,{value:j},t)},k=t(10),h=t(43),j=t.n(h),O=t(59),E=t.n(O),x=t(87),w=t(251),y=t.n(w);function T(){var e=Object(i.a)(["\n  padding: 8px;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n"]);return T=function(){return e},e}var C=k.a.div(T());function P(e){var n=e.children,t=Object(x.a)(e,["children"]);return a.a.createElement(y.a,t,a.a.createElement(C,null,n))}var I=t(21),S=t(151),M=t.n(S),U=t(252),_=t.n(U);function A(){return a.a.createElement(_.a,{size:"15px",margin:"3px",color:I.uiColors.gray.dark2})}function D(){var e=Object(i.a)(["\n\tmargin-bottom: 16px;\n"]);return D=function(){return e},e}function F(){var e=Object(i.a)(["\n\tmargin: 0;\n\tfont-size: 32px;\n"]);return F=function(){return e},e}function $(){var e=Object(i.a)(["\n\theight: 100vh;\n\tjustify-content: center;\n\talign-items: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground: ",";\n"]);return $=function(){return e},e}function z(){var e=Object(i.a)(["\n\tbackground: none;\n\tborder: none;\n\tfont-size: 12px;\n\tcolor: ",";\n"]);return z=function(){return e},e}function L(){var e=Object(i.a)(["\n\tline-height: 18px;\n"]);return L=function(){return e},e}function R(){var e=Object(i.a)(["\n\tmargin-top: 8px;\n\tfont-size: 12px;\n\tdisplay: flex;\n\tjustify-content: center;\n"]);return R=function(){return e},e}function q(){var e=Object(i.a)(["\n\twidth: 420px;\n"]);return q=function(){return e},e}function N(){var e=b(),n=a.a.useState("login"),t=Object(m.a)(n,2),r=t[0],u=t[1],c=a.a.useState(""),i=Object(m.a)(c,2),o=i[0],s=i[1],v=a.a.useState(""),g=Object(m.a)(v,2),k=g[0],h=g[1],O=a.a.useState({}),x=Object(m.a)(O,2),w=x[0],y=x[1];a.a.useEffect((function(){s("sampleemail@example.com"),h("password"),y({})}),[r]);var T=a.a.useState(!1),C=Object(m.a)(T,2),P=C[0],I=C[1],S=function(){var n=Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return I(!0),y((function(e){return Object(f.a)(Object(f.a)({},e),{},{password:null})})),n.prev=2,n.next=5,e.logIn(p.b.emailPassword(o,k));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),B(n.t0,y);case 10:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(){return n.apply(this,arguments)}}(),U=function(){var n=Object(d.a)(l.a.mark((function n(){var t;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=M.a.isEmail(o),y((function(e){return Object(f.a)(Object(f.a)({},e),{},{password:null})})),!t){n.next=16;break}return n.prev=3,n.next=6,e.emailPasswordAuth.registerUser(o,k);case 6:return n.next=8,S();case 8:return n.abrupt("return",n.sent);case 11:n.prev=11,n.t0=n.catch(3),B(n.t0,y);case 14:n.next=17;break;case 16:y((function(e){return Object(f.a)(Object(f.a)({},e),{},{email:"Email is invalid."})}));case 17:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(){return n.apply(this,arguments)}}();return a.a.createElement(H,null,P?a.a.createElement(A,null):a.a.createElement(G,null,a.a.createElement(K,null,a.a.createElement(Y,null,"login"===r?"Log In":"Register an Account")),a.a.createElement(K,null,a.a.createElement(E.a,{type:"email",label:"Email",placeholder:"your.email@example.com",onChange:function(e){y((function(e){return Object(f.a)(Object(f.a)({},e),{},{email:null})})),s(e.target.value)},value:o,state:w.email?"error":M.a.isEmail(o)?"valid":"none",errorMessage:w.email})),a.a.createElement(K,null,a.a.createElement(E.a,{type:"password",label:"Password",placeholder:"pa55w0rd",onChange:function(e){h(e.target.value)},value:k,state:w.password?"error":w.password?"valid":"none",errorMessage:w.password})),"login"===r?a.a.createElement(j.a,{variant:"primary",onClick:function(){return S()}},"Log In"):a.a.createElement(j.a,{variant:"primary",onClick:function(){return U()}},"Register"),a.a.createElement(J,null,a.a.createElement(Q,null,"login"===r?"Don't have an account?":"Already have an account?"),a.a.createElement(W,{onClick:function(e){e.preventDefault(),u((function(e){return"login"===e?"register":"login"}))}},"login"===r?"Register one now.":"Log in instead."))))}function B(e,n){var t=function(e){var n,t=e.message.split(":"),r=t[t.length-1].trimStart();if(!r)return{status:"",message:""};var a=Object(o.a)(/(.+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]\(status ([0-9][0-9][0-9])/,{message:1,status:2}),u=r.match(a),c=null!==(n=null===u||void 0===u?void 0:u.groups)&&void 0!==n?n:{},i=c.status,s=c.message;return{status:i,message:s}}(e),r=t.status;switch(t.message||r){case"invalid username":n((function(e){return Object(f.a)(Object(f.a)({},e),{},{email:"Invalid email address."})}));break;case"invalid username/password":case"invalid password":case"401":n((function(e){return Object(f.a)(Object(f.a)({},e),{},{password:"Incorrect password."})}));break;case"name already in use":case"409":n((function(e){return Object(f.a)(Object(f.a)({},e),{},{email:"Email is already registered."})}));break;case"password must be between 6 and 128 characters":case"400":n((function(e){return Object(f.a)(Object(f.a)({},e),{},{password:"Password must be between 6 and 128 characters."})}))}}var G=Object(k.a)(P)(q()),J=k.a.div(R()),Q=k.a.span(L()),W=k.a.button(z(),I.uiColors.green.dark2),H=k.a.div($(),I.uiColors.gray.light2),Y=k.a.h1(F()),K=k.a.div(D()),V=t(34),X=t(85),Z=t(42),ee=t(44),ne=t(61),te=t.n(ne);function re(){var e=Object(i.a)(["\n  fragment TaskFields on Task {\n    _id\n    _partition\n    status\n    name\n  }\n"]);return re=function(){return e},e}function ae(){var e=Object(i.a)(["\n  mutation DeleteTask($taskId: ObjectId!) {\n    deletedTask: deleteOneTask(query: { _id: taskId }) {\n      _id\n      _partition\n      name\n      status\n    }\n  }\n"]);return ae=function(){return e},e}function ue(){var e=Object(i.a)(["\n  mutation UpdateTask($taskId: ObjectId!, $updates: TaskUpdateInput!) {\n    updatedTask: updateOneTask(query: { _id: $taskId }, set: $updates) {\n      _id\n      _partition\n      name\n      status\n    }\n  }\n"]);return ue=function(){return e},e}function ce(){var e=Object(i.a)(["\n  mutation AddTask($task: TaskInsertInput!) {\n    addedTask: insertOneTask(data: $task) {\n      _id\n      _partition\n      name\n      status\n    }\n  }\n"]);return ce=function(){return e},e}function ie(e){return{addTask:de(e),updateTask:me(e),deleteTask:pe(e)}}var oe=te()(ce()),se=te()(ue()),le=te()(ae()),fe=te()(re());function de(e){var n=Object(ee.useMutation)(oe,{update:function(e,n){var t=n.data.addedTask;e.modify({fields:{tasks:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat(Object(X.a)(n),[e.writeFragment({data:t,fragment:fe})])}}})}}),t=Object(m.a)(n,1)[0];return function(){var n=Object(d.a)(l.a.mark((function n(r){var a,u;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({variables:{task:Object(f.a)({_id:new Z.b,_partition:e.partition,status:"Open"},r)}});case 2:return a=n.sent,u=a.addedTask,n.abrupt("return",u);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function me(e){var n=Object(ee.useMutation)(se),t=Object(m.a)(n,1)[0];return function(){var e=Object(d.a)(l.a.mark((function e(n,r){var a,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:{taskId:n._id,updates:r}});case 2:return a=e.sent,u=a.updatedTask,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()}function pe(e){var n=Object(ee.useMutation)(le),t=Object(m.a)(n,1)[0];return function(){var e=Object(d.a)(l.a.mark((function e(n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:{taskId:n._id}});case 2:return r=e.sent,a=r.deletedTask,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}function ve(){var e=Object(i.a)(["\n  query GetAllTasksForProject($partition: String!) {\n    tasks(query: { _partition: $partition }) {\n      _id\n      name\n      status\n    }\n  }\n"]);return ve=function(){return e},e}var be=te()(ve());var ge=function(e){var n=function(e){var n,t=Object(ee.useQuery)(be,{variables:{partition:e.partition}}),r=t.data,u=t.loading,c=t.error,i=t.startPolling,o=t.stopPolling;if(a.a.useEffect((function(){return i(1e3),function(){return o()}}),[i,o]),c)throw new Error("Failed to fetch tasks: ".concat(c.message));return{tasks:null!==(n=null===r||void 0===r?void 0:r.tasks)&&void 0!==n?n:[],loading:u}}(e),t=n.tasks,r=n.loading,u=ie(e),c=u.addTask;return{loading:r,tasks:t,updateTask:u.updateTask,addTask:c}},ke=t(255),he=t.n(ke);function je(e){var n=e.status;return a.a.createElement(he.a,{variant:Oe(n)},Ee(n))}var Oe=function(e){switch(e){case"Open":return"blue";case"InProgress":return"yellow";case"Complete":return"green";default:return"gray"}},Ee=function(e){if("InProgress"===e){var n=String.fromCharCode(160);return"In".concat(n,"Progress")}return e};function xe(){var e=Object(i.a)(["\n  flex-grow: 1;\n"]);return xe=function(){return e},e}function we(){var e=Object(i.a)(["\n  display: flex;\n  width: 100%;\n"]);return we=function(){return e},e}function ye(e){var n=e.task;return a.a.createElement(Te,null,a.a.createElement(Ce,null,n.name),a.a.createElement(je,{status:n.status}))}var Te=k.a.div(we()),Ce=k.a.span(xe()),Pe=t(113),Ie=t.n(Pe);function Se(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: ",";\n    justify-content: center;\n    gap: 8px;\n    margin-top: 8px;\n  "]);return Se=function(){return e},e}var Me=k.a.div((function(e){return Object(V.css)(Se(),"row"===e.direction?"row":"column")})),Ue=t(256),_e=t.n(Ue);function Ae(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]);return Ae=function(){return e},e}function De(e){var n=e.from,t=e.to;return a.a.createElement(Fe,null,a.a.createElement(je,{status:n}),a.a.createElement(_e.a,null),a.a.createElement(je,{status:t}))}var Fe=k.a.div(Ae());function $e(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px 0;\n  gap: 8px;\n"]);return $e=function(){return e},e}function ze(){var e=Object(i.a)(["\n  height: 100%;\n"]);return ze=function(){return e},e}var Le=Object(k.a)(j.a)(ze()),Re=k.a.div($e());function qe(e){var n=e.project,t=e.task,r=e.unselectTask,u=function(e){var n=ie(e).updateTask;return function(e){var t=e.task,r=e.fromStatus,u=e.toStatus,c=e.children;return a.a.createElement(Le,{onClick:function(){return n(t,{status:u})}},a.a.createElement(Re,null,c,a.a.createElement(De,{from:r,to:u})))}}(n);return a.a.createElement(Ie.a,{open:Boolean(t),setOpen:r},t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ye,{task:t}),a.a.createElement(Me,{direction:"row"},"Open"===t.status&&a.a.createElement(u,{task:t,fromStatus:"Open",toStatus:"InProgress"},"Start Progress"),"InProgress"===t.status&&a.a.createElement(a.a.Fragment,null,a.a.createElement(u,{task:t,fromStatus:"InProgress",toStatus:"Open"},"Stop Progress"),a.a.createElement(u,{task:t,fromStatus:"InProgress",toStatus:"Complete"},"Complete Task")),"Complete"===t.status&&a.a.createElement(u,{task:t,fromStatus:"Complete",toStatus:"InProgress"},"Resume Task"))))}var Ne=t(149),Be=t.n(Ne),Ge=t(257),Je=t.n(Ge),Qe=t(258),We=t.n(Qe);function He(){var e=Object(i.a)(["\n\tflex-grow: 1;\n\tpadding: 8px 0;\n"]);return He=function(){return e},e}function Ye(){var e=Object(i.a)(["\n\tdisplay: flex;\n\talign-items: center;\n"]);return Ye=function(){return e},e}function Ke(){var e=Object(i.a)(["\n\t\tpadding: 8px 12px;\n\t\tborder-radius: 8px;\n\t\t:hover {\n\t\t\tbackground: ",";\n\t\t}\n\t"]);return Ke=function(){return e},e}function Ve(){var e=Object(i.a)(["\n\tlist-style: none;\n\tpadding: 8px 0;\n\tmargin: 0;\n"]);return Ve=function(){return e},e}function Xe(){var e=Object(i.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(i.a)(["\n\tmargin: 8px 2px;\n"]);return Ze=function(){return e},e}function en(){var e=Object(i.a)(["\n\tmargin: 0;\n\tfont-size: 24px;\n"]);return en=function(){return e},e}function nn(){var e=Object(i.a)(["\n\tflex-grow: 1;\n"]);return nn=function(){return e},e}function tn(){var e=Object(i.a)(["\n\tdisplay: flex;\n\talign-items: end;\n"]);return tn=function(){return e},e}function rn(){var e=Object(i.a)(["\n\theight: 36px;\n"]);return rn=function(){return e},e}function an(e){var n=e.isEditingPermissions,t=e.setIsEditingPermissions,r=function(){var e=a.a.useState(null),n=Object(m.a)(e,2),t=n[0],r=n[1],u=a.a.useState(null),c=Object(m.a)(u,2),i=c[0],o=c[1],s=b().currentUser.functions,f=s.addTeamMember,p=s.removeTeamMember,v=s.getMyTeamMembers,g=function(){v().then(r)};return a.a.useEffect(g,[]),{teamMembers:t,errorMessage:i,addTeamMember:function(){var e=Object(d.a)(l.a.mark((function e(n){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:if(t=e.sent,!(r=t.error)){e.next=9;break}return o(r),e.abrupt("return",{error:r});case 9:g();case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),removeTeamMember:function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(n);case 2:g();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}(),u=r.teamMembers,c=r.errorMessage,i=r.addTeamMember,o=r.removeTeamMember;return a.a.createElement(Ie.a,{open:n,setOpen:t,size:"small"},a.a.createElement(dn,null,a.a.createElement(ln,null,"Team Members"),a.a.createElement(fn,null,"These users can add, read, modify, and delete tasks in your project"),a.a.createElement(fn,null,"Add a new user by email:"),a.a.createElement(un,{addTeamMember:i,errorMessage:c}),a.a.createElement(mn,null,(null===u||void 0===u?void 0:u.length)?u.map((function(e){return a.a.createElement(pn,{key:e._id},a.a.createElement(vn,null,a.a.createElement(bn,null,e.name),a.a.createElement(We.a,{"aria-label":"remove-team-member-button",className:"remove-team-member-button",onClick:Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o(e.name);case 2:case"end":return n.stop()}}),n)})))},a.a.createElement(Be.a,null))))})):a.a.createElement(fn,null,"No team members"))))}function un(e){var n=e.addTeamMember,t=e.errorMessage,r=a.a.useState(""),u=Object(m.a)(r,2),c=u[0],i=u[1];return a.a.createElement(on,null,a.a.createElement(sn,null,a.a.createElement(E.a,{type:"email","aria-labelledby":"team member email address",placeholder:"some.email@example.com",state:t?"error":"none",errorMessage:null!==t&&void 0!==t?t:"Foo",onChange:function(e){i(e.target.value)},value:c})),a.a.createElement(cn,{disabled:!c,onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(c);case 2:(null===(t=e.sent)||void 0===t?void 0:t.error)||i("");case 4:case"end":return e.stop()}}),e)}))),styles:{height:"36px"}},a.a.createElement(Je.a,null),"Add User"))}var cn=Object(k.a)(j.a)(rn()),on=k.a.div(tn()),sn=k.a.div(nn()),ln=k.a.h2(en()),fn=k.a.p(Ze()),dn=k.a.div(Xe()),mn=k.a.ul(Ve()),pn=k.a.li((function(e){return Object(V.css)(Ke(),I.uiColors.gray.light2)})),vn=k.a.div(Ye()),bn=k.a.div(He());function gn(){var e=Object(i.a)(["\n  line-height: 24px;\n  letter-spacing: 0px;\n  text-align: center;\n  font-size: 16px;\n"]);return gn=function(){return e},e}function kn(){var e=Object(i.a)(["\n  :not(:first-of-type) {\n    margin-top: 8px;\n  }\n"]);return kn=function(){return e},e}function hn(){var e=Object(i.a)(["\n  list-style-type: none;\n  padding-left: 0;\n  width: 400px;\n"]);return hn=function(){return e},e}function jn(){var e=Object(i.a)(["\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  grid-area: main;\n  background: ",";\n"]);return jn=function(){return e},e}function On(e){var n=e.currentProject,t=e.isEditingPermissions,r=e.setIsEditingPermissions;return a.a.createElement(En,null,n&&a.a.createElement(xn,{currentProject:n}),a.a.createElement(an,{isEditingPermissions:t,setIsEditingPermissions:r}))}var En=k.a.div(jn(),I.uiColors.gray.light2);function xn(e){var n,t=e.currentProject,r=ge(t),u=r.tasks,c=r.addTask,i=r.loading,o=a.a.useState(null),s=Object(m.a)(o,2),f=s[0],p=s[1],v=(n=f,u.find((function(e){return e._id===n}))),b=function(e){var n=e.addTask,t=a.a.useState(null),r=Object(m.a)(t,2),u=r[0],c=r[1];return{draftTask:u,createDraftTask:function(){c({name:""})},deleteDraftTask:function(){c(null)},setDraftTaskName:function(e){c({name:e})},submitDraftTask:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(u);case 2:c(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}({addTask:c}),g=b.draftTask,k=b.createDraftTask,h=b.deleteDraftTask,O=b.setDraftTaskName,x=b.submitDraftTask;return i?a.a.createElement(A,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(wn,null,0===u.length?a.a.createElement(Tn,null,a.a.createElement("h1",null,"No Tasks"),a.a.createElement("p",null,"Click the button below to add a task to this project")):u.map((function(e){return a.a.createElement(yn,{key:e._id},a.a.createElement(P,{onClick:function(){return p(e._id)}},a.a.createElement(ye,{task:e})))})),g?a.a.createElement(yn,null,a.a.createElement(P,null,a.a.createElement(E.a,{type:"text","aria-labelledby":"task description",placeholder:"Do the dishes",onChange:function(e){O(e.target.value)},value:g.name}),a.a.createElement(Me,null,a.a.createElement(j.a,{variant:"primary",disabled:!g.name,onClick:function(){x()}},"Add"),a.a.createElement(j.a,{variant:"danger",onClick:function(){h()}},"Cancel")))):a.a.createElement(yn,null,a.a.createElement(P,null,a.a.createElement(j.a,{onClick:function(){return k()}},"Add Task")))),a.a.createElement(qe,{project:t,task:v,unselectTask:p}))}var wn=k.a.ul(hn()),yn=k.a.li(kn()),Tn=k.a.div(gn()),Cn=t(108);function Pn(e,n){n(e.fullDocument.memberOf)}function In(){var e=Object(i.a)(["\n  background: none;\n  border: none;\n  padding: 4px;\n  color: #069;\n  text-decoration: none;\n  cursor: pointer;\n  color: ",";\n"]);return In=function(){return e},e}function Sn(){var e=Object(i.a)(["\n  font-weight: bold;\n  text-align: center;\n  margin-bottom: 4px;\n"]);return Sn=function(){return e},e}function Mn(){var e=Object(i.a)(["\n  padding: 8px 0;\n  display: flex;\n  flex-direction: column;\n"]);return Mn=function(){return e},e}function Un(){var e=Object(i.a)(["\n    padding: 8px 12px;\n    border-radius: 8px;\n    background: ",";\n    :hover {\n      background: ",";\n    }\n  "]);return Un=function(){return e},e}function _n(){var e=Object(i.a)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n"]);return _n=function(){return e},e}function An(){var e=Object(i.a)(["\n  margin: 0;\n  padding: 8px;\n"]);return An=function(){return e},e}function Dn(){var e=Object(i.a)(["\n  display: flex;\n  background: ",";\n  flex-direction: column;\n  padding: 40px;\n"]);return Dn=function(){return e},e}function Fn(e){var n=e.currentProject,t=e.setCurrentProject,r=e.setIsEditingPermissions,u=function(){var e=b(),n=a.a.useState(e.currentUser.customData.memberOf),t=Object(m.a)(n,2),r=t[0],u=t[1];if(!e.currentUser)throw new Error("Cannot list projects if there is no logged in user.");var c=e.currentUser.mongoClient("mongodb-atlas").db("tracker").collection("User");return a.a.useEffect((function(){var e;return Object(d.a)(l.a.mark((function n(){var t,r,a,i,o,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=c.watch(),t=!0,r=!1,n.prev=3,i=Object(Cn.a)(e);case 5:return n.next=7,i.next();case 7:return o=n.sent,t=o.done,n.next=11,o.value;case 11:if(s=n.sent,t){n.next=18;break}Pn(s,u);case 15:t=!0,n.next=5;break;case 18:n.next=24;break;case 20:n.prev=20,n.t0=n.catch(3),r=!0,a=n.t0;case 24:if(n.prev=24,n.prev=25,t||null==i.return){n.next=29;break}return n.next=29,i.return();case 29:if(n.prev=29,!r){n.next=32;break}throw a;case 32:return n.finish(29);case 33:return n.finish(24);case 34:case"end":return n.stop()}}),n,null,[[3,20,24,34],[25,,29,33]])})))(),function(){return e.return()}})),r}(),c=b();return a.a.createElement($n,null,a.a.createElement(P,null,a.a.createElement(zn,null,"Projects"),a.a.createElement(Ln,null,u.map((function(e){return a.a.createElement(Rn,{key:e.partition,onClick:function(){return t(e)},isSelected:e.partition===(null===n||void 0===n?void 0:n.partition)},e.name)}))),a.a.createElement(qn,{user:c.currentUser,handleLogout:function(){c.logOut()},handleEditPermissions:function(){r(!0)}})))}var $n=k.a.div(Dn(),I.uiColors.gray.light2),zn=k.a.h2(An()),Ln=k.a.ul(_n()),Rn=k.a.li((function(e){return Object(V.css)(Un(),e.isSelected&&I.uiColors.green.light2,!e.isSelected&&I.uiColors.gray.light1)}));function qn(e){var n=e.user,t=e.handleLogout,r=e.handleEditPermissions;return a.a.createElement(Nn,null,a.a.createElement(Bn,null,n.profile.email),a.a.createElement(Gn,{onClick:r},"Manage My Project"),a.a.createElement(Gn,{onClick:t},"Log Out"))}var Nn=k.a.div(Mn()),Bn=k.a.div(Sn()),Gn=k.a.button(In(),I.uiColors.green.dark2);function Jn(){var e=Object(i.a)(["\n  grid-area: sidebar;\n"]);return Jn=function(){return e},e}function Qn(){var e=Object(i.a)(["\n  grid-area: sidebar;\n"]);return Qn=function(){return e},e}function Wn(){var e=Object(i.a)(["\n  box-sizing: border-box;\n  height: 100vh;\n  width: 100vh;\n  display: grid;\n  grid-template-columns: "," calc(100vw - ",');\n  grid-template-rows: 1fr;\n  grid-template-areas: "sidebar main";\n']);return Wn=function(){return e},e}function Hn(){var e=b(),n=a.a.useState(e.currentUser.customData.memberOf[0]),t=Object(m.a)(n,2),r=t[0],u=t[1],c=a.a.useState(!1),i=Object(m.a)(c,2),o=i[0],s=i[1];return a.a.createElement(Yn,null,a.a.createElement(Fn,{css:Kn,currentProject:r,setCurrentProject:u,setIsEditingPermissions:s}),a.a.createElement(On,{css:Vn,currentProject:r,isEditingPermissions:o,setIsEditingPermissions:s}))}var Yn=k.a.div(Wn(),"420px","420px"),Kn=Object(V.css)(Qn()),Vn=Object(V.css)(Jn()),Xn=function(e){var n=new ee.HttpLink({uri:"https://realm.mongodb.com/api/client/v2.0/app/".concat(e.id,"/graphql"),fetch:function(e){function n(n,t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){var n=Object(d.a)(l.a.mark((function n(t,r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.currentUser){n.next=2;break}throw new Error("Must be logged in to use the GraphQL API");case 2:return n.next=4,e.currentUser.refreshCustomData();case 4:return r.headers.Authorization="Bearer ".concat(e.currentUser.accessToken),n.abrupt("return",fetch(t,r));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}),t=new ee.InMemoryCache;return new ee.ApolloClient({link:n,cache:t})};function Zn(e){var n=e.children,t=b(),r=a.a.useState(Xn(t)),u=Object(m.a)(r,2),c=u[0],i=u[1];return a.a.useEffect((function(){i(Xn(t))}),[t]),a.a.createElement(ee.ApolloProvider,{client:c},n)}var et=function(e){var n=e.children;return b().currentUser?n:a.a.createElement(N,null)};function nt(){return a.a.createElement(g,{appId:"ex3-ejuun"},a.a.createElement(et,null,a.a.createElement(Zn,null,a.a.createElement(Hn,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[261,1,2]]]);
//# sourceMappingURL=main.cace4971.chunk.js.map